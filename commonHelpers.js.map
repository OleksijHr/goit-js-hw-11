{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// тут функції для відображення елементів інтерфейсу\n\n// Описаний у документації\nimport simpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst objectList = document.querySelector(\".object-list\");\nconst lightboxGallery = new simpleLightbox('.gallery a', {\n    caption: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    showCounter: false\n});\n\n\nexport const createMurkup =  function (objArr) {\n\n    return objArr.map(({ views, comments, downloads, likes, webformatURL, tags, largeImageURL }) => {\n        return `<li>\n        <div class=\"img-box\">\n        <a href=\"${largeImageURL}\">\n        <img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\">\n        </a>\n        <ul class=\"value-list\">\n        <li class=\"likes value-item\"><p class=\"article\">Likes</p><p class=\"value\">${likes}</p></li>\n        <li class=\"views value-item\" ><p class=\"article\">Views</p><p class=\"value\">${views}</p></li>\n        <li class=\"comments value-item\"><p class=\"article\">Comments</p><p class=\"value\">${comments}</p></li>\n        <li class=\"downloads value-item\"><p class=\"article\">Downloads</p><p class=\"value\">${downloads}</p></li>\n        </ul></div>\n        </li>`\n    }).join(\"\");\n};\n\nexport const updateMurkup = function (createMurkup) {\n    objectList.insertAdjacentHTML('beforeend', createMurkup);\n    lightboxGallery.refresh();\n}\n","// тут функції для HTTP запитів\n\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"43211197-e02e136a3ee46bcda7d5bf66f\";\n\nexport function searchObject(searchName = \"\") {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: searchName,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    });\n\n    return fetch(`${BASE_URL}/?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n    })\n};\n","// тут уся логіка роботи\n\nimport * as renderFunction from './js/render-functions.js';\nimport * as pixabayApi from './js/pixabay-api.js';\n\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst searchForm = document.querySelector(\".search-form\");\nconst search = document.querySelector(\"input\");\nconst objectList = document.querySelector(\".object-list\");\nconst loader = document.querySelector(\".loader-box\");\n\nsearchForm.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    if (!search.value) {\n        return iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            backgroundColor: \"red\",\n            closeOnClick: true,\n            position: \"topCenter\"\n        });\n    }\n\n    const searchValue = event.currentTarget.elements.search.value.trim();\n\n    loader.style.display = \"flex\";\n\n    pixabayApi.searchObject(searchValue)\n        .then(data => {\n            if (!data.total) {\n                loader.style.display = \"none\";\n\n                return iziToast.info({\n                    message: \"Don't found\",\n                    closeOnClick: true,\n                    position: \"topCenter\"\n                })\n            }\n            console.log(data);\n\n            objectList.innerHTML = renderFunction.createMurkup(data.hits);\n            renderFunction.updateMurkup();\n            searchForm.reset();\n\n            loader.style.display = \"none\";\n        })\n        .catch(error => {\n            loader.style.display = \"none\";\n            return iziToast.error({\n                message: `${error.message}`,\n                backgroundColor: \"red\",\n                position: \"topCenter\"\n            })\n        })\n}\n"],"names":["objectList","lightboxGallery","simpleLightbox","createMurkup","objArr","views","comments","downloads","likes","webformatURL","tags","largeImageURL","updateMurkup","BASE_URL","API_KEY","searchObject","searchName","params","response","searchForm","search","loader","handleSubmit","event","iziToast","searchValue","pixabayApi.searchObject","data","renderFunction.createMurkup","renderFunction.updateMurkup","error"],"mappings":"6vBAOA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAkB,IAAIC,EAAe,aAAc,CACrD,QAAS,GACT,aAAc,MACd,aAAc,IACd,YAAa,EACjB,CAAC,EAGYC,EAAgB,SAAUC,EAAQ,CAE3C,OAAOA,EAAO,IAAI,CAAC,CAAE,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,MAAAC,EAAO,aAAAC,EAAc,KAAAC,EAAM,cAAAC,CAAa,IAC9E;AAAA;AAAA,mBAEIA,CAAa;AAAA,gCACAF,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,oFAG0BF,CAAK;AAAA,qFACJH,CAAK;AAAA,0FACAC,CAAQ;AAAA,4FACNC,CAAS;AAAA;AAAA,cAGhG,EAAE,KAAK,EAAE,CACd,EAEaK,EAAe,SAAUT,EAAc,CAChDH,EAAW,mBAAmB,YAAaG,CAAY,EACvDF,EAAgB,QAAO,CAC3B,EClCMY,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAaC,EAAa,GAAI,CAC1C,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGH,CAAQ,KAAKI,CAAM,EAAE,EAChC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAK,CACL,CCVA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,OAAO,EACvCpB,EAAa,SAAS,cAAc,cAAc,EAClDqB,EAAS,SAAS,cAAc,aAAa,EAEnDF,EAAW,iBAAiB,SAAUG,CAAY,EAElD,SAASA,EAAaC,EAAO,CAGzB,GAFAA,EAAM,eAAc,EAEhB,CAACH,EAAO,MACR,OAAOI,EAAS,MAAM,CAClB,QAAS,2EACT,gBAAiB,MACjB,aAAc,GACd,SAAU,WACtB,CAAS,EAGL,MAAMC,EAAcF,EAAM,cAAc,SAAS,OAAO,MAAM,OAE9DF,EAAO,MAAM,QAAU,OAEvBK,EAAwBD,CAAW,EAC9B,KAAKE,GAAQ,CACV,GAAI,CAACA,EAAK,MACN,OAAAN,EAAO,MAAM,QAAU,OAEhBG,EAAS,KAAK,CACjB,QAAS,cACT,aAAc,GACd,SAAU,WAC9B,CAAiB,EAEL,QAAQ,IAAIG,CAAI,EAEhB3B,EAAW,UAAY4B,EAA4BD,EAAK,IAAI,EAC5DE,IACAV,EAAW,MAAK,EAEhBE,EAAO,MAAM,QAAU,MACnC,CAAS,EACA,MAAMS,IACHT,EAAO,MAAM,QAAU,OAChBG,EAAS,MAAM,CAClB,QAAS,GAAGM,EAAM,OAAO,GACzB,gBAAiB,MACjB,SAAU,WAC1B,CAAa,EACJ,CACT"}